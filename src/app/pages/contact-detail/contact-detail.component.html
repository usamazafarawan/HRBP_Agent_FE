<div class="flex flex-col h-screen bg-[#F8F9FD]">

  <!-- Header -->
  <header class="flex items-center justify-between px-4 py-3 bg-white shadow-sm">
    <div class="font-semibold text-gray-800 font-exo2">üí¨ {{selectedAgent}}</div>
    <button
      class="bg-[#6D5DF6] text-white px-4 py-2 rounded-full text-sm hover:bg-[#5b4ee4] transition font-exo2">
      + New Chat
    </button>
  </header>

  <!-- Chat Body -->
  <main class="flex-1 overflow-y-auto px-4 py-6 space-y-4">
    <!-- Empty Chat State -->
    <div *ngIf="!chats || chats.length === 0"
      class="flex flex-col items-center justify-center h-full text-center text-gray-700 font-exo2">
      <p class="text-2xl mb-2">
        Hello Abeer üëã
      </p>
      <p class="text-base">
        How can I support you today?
      </p>
    </div>
    <ng-container *ngIf="chats && chats.length > 0">
      <ng-container *ngFor="let chat of chats">
  
        <!-- System Message -->
        <div *ngIf="chat.sender === 'system'"
          class="flex items-center gap-2 bg-yellow-50 text-yellow-700 px-4 py-2 rounded-lg text-sm max-w-md font-exo2">
          ‚ö†Ô∏è {{ chat.text }}
        </div>
  
        <!-- Bot Message -->
        <div *ngIf="chat.sender === 'bot'" class="flex justify-start">
          <div class="bg-white shadow rounded-2xl px-4 py-3 max-w-[85%] whitespace-pre-line text-gray-800 font-exo2">
            {{ chat.text }}
          </div>
        </div>
  
        <!-- User Message -->
        <div *ngIf="chat.sender === 'user'" class="flex justify-end">
          <div class="bg-[#6D5DF6] text-white rounded-2xl px-4 py-3 max-w-[85%] font-exo2">
            {{ chat.text }}
          </div>
        </div>
  
      </ng-container>
    </ng-container>
  </main>

  <!-- Input Area -->
  <footer class="sticky bottom-0 bg-white px-4 py-3 shadow-inner">
    <div class="flex items-center gap-3">
      <input
        type="text"
        [(ngModel)]="message"
        placeholder="Ask about your team, HR insights..."
        class="flex-1 border border-gray-300 rounded-full px-4 py-2 focus:outline-none font-exo2 focus:ring-2 focus:ring-[#6D5DF6]"
      />

      <button
        (click)="sendMessage()"
        class="bg-[#6D5DF6] text-white px-5 py-2 rounded-full hover:bg-[#5b4ee4] font-exo2 transition">
        Send
      </button>
    </div>
  </footer>

</div>
